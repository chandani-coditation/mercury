{
  "_comment": "Retrieval Configuration",
  "_description": "Hybrid search settings for context retrieval (vector + full-text search)",
  "_phase1_update": "Service/component filters are now soft (relevance boosters), not hard WHERE filters. This allows semantic search to find relevant content even with mismatches.",
  
  "triage": {
    "method": "hybrid_search",
    "limit": 5,
    "vector_weight": 0.7,
    "fulltext_weight": 0.3,
    "filters": [],
    "_note": "Hard filters removed in Phase 1 - service/component now used as soft filters (relevance boosters)",
    "soft_filters": {
      "service": {
        "enabled": true,
        "exact_match_boost": 0.15,
        "partial_match_boost": 0.10
      },
      "component": {
        "enabled": true,
        "exact_match_boost": 0.10,
        "partial_match_boost": 0.05
      }
    },
    "prefer_types": ["runbook", "incident", "log"],
    "max_per_type": {
      "runbook": 5
    },
    "use_mmr": false,
    "mmr_diversity": 0.5,
    "_note_mmr": "Set use_mmr=true to use Maximal Marginal Relevance for more diverse results",
    "rrf_k": 60,
    "_note_rrf_k": "RRF parameter k (default 60). Lower values give more weight to top results, higher values flatten the ranking.",
    "runbook_score_threshold": 0.1,
    "_note_runbook_threshold": "Minimum fulltext_score (0-1) for runbooks to be displayed in UI. Runbooks with scores below this threshold will be filtered out. Default: 0.1 (10%)",
    "ui_relevance_threshold": 50,
    "_note_ui_relevance_threshold": "Minimum relevance score percentage (0-100) to display in UI. Scores below this threshold will be hidden. Default: 50 (50%)"
  },
  "resolution": {
    "method": "hybrid_search",
    "limit": 10,
    "vector_weight": 0.6,
    "fulltext_weight": 0.4,
    "filters": [],
    "_note": "Hard filters removed in Phase 1 - service/component now used as soft filters (relevance boosters)",
    "soft_filters": {
      "service": {
        "enabled": true,
        "exact_match_boost": 0.15,
        "partial_match_boost": 0.10
      },
      "component": {
        "enabled": true,
        "exact_match_boost": 0.10,
        "partial_match_boost": 0.05
      }
    },
    "prefer_types": ["runbook", "log", "past_incident", "sop"],
    "use_mmr": false,
    "mmr_diversity": 0.5,
    "_note_mmr": "Set use_mmr=true to use Maximal Marginal Relevance for more diverse results",
    "rrf_k": 60,
    "_note_rrf_k": "RRF parameter k (default 60). Lower values give more weight to top results, higher values flatten the ranking."
  }
}

